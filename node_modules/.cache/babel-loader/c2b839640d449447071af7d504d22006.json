{"ast":null,"code":"import createStore from \"unistore\";\nimport axios from \"axios\"; // News API\n\nconst apiKey = \"619529381a494be9af64c6269526d196\";\nconst baseUrl = \"https://newsapi.org/v2/\"; // const urlHeadline = baseUrl + \"top-headlines?country=id&apiKey=\" + apiKey;\n\nconst initialState = {\n  search: \"\",\n  listDetailBerita: [],\n  listBeritaTerkini: [],\n  isLoadingBeritaTerkini: true,\n  isLoadingDetailBerita: true,\n  category: \"\",\n  inputPage1: \"\",\n  stateToChangeFromPage: \"belum berubah\"\n};\nexport const store = createStore(initialState);\nexport const actions = store => ({\n  handleInputChange: (state, event) => {\n    console.log(\"cek handleinputChange\", event);\n    store.setState({\n      [event.target.name]: event.target.value\n    });\n  },\n  handleSearch: async e => {\n    console.warn(\"cek e pada handle input change\", e.target);\n    console.warn(\"cek value\", e.target.value);\n    let value = e.target.value;\n    await store.setState({\n      search: value,\n      category: value\n    });\n    console.log(\"cek state input cek\", this.state.search);\n    this.getDetailBerita();\n    this.getListberitaterkini();\n  },\n  handleClickKategori: async e => {\n    console.warn(\"cek e pada handle input change klik kategori\", e.target);\n    console.warn(\"cek value klik kategori\", e);\n    let value = e;\n    await store.setState({\n      search: value,\n      category: value\n    });\n    console.log(\"cek state input cek\", this.state.search);\n    this.getDetailBerita();\n    this.getListberitaterkini();\n  },\n  getDetailBerita: () => {\n    const self = this;\n    axios.get(`${baseUrl}everything?q=${this.state.search}&apiKey=${apiKey}`).then(function (response) {\n      store.setState({\n        listDetailBerita: response.data.articles,\n        isLoadingDetailBerita: false\n      });\n      console.log(\"cek dari NEWS\", self.state.listDetailBerita); // handle success\n      // console.log(response.data);\n    }).catch(function (error) {\n      store.setState({\n        isLoadingDetailBerita: false\n      }); // handle error\n      // console.log(error)\n    });\n  },\n  getOut: () => {\n    localStorage.removeItem(\"statusLogin\"); // localStorage.clear()\n\n    this.props.history.push(\"/\");\n  },\n  goBackHome: () => {\n    store.setState({\n      isLoadingBeritaTerkini: true\n    });\n  },\n  getListberitaterkini: () => {\n    axios.get(`${baseUrl}top-headlines?country=id&category=${this.state.category}&apiKey=${apiKey}`).then(function (response) {\n      store.setState({\n        listBeritaTerkini: response.data.articles,\n        isLoadingBeritaTerkini: false\n      }); // handle success\n      // console.log(response.data);\n    }).catch(function (error) {\n      store.setState({\n        isLoadingBeritaTerkini: false\n      }); // handle error\n      // console.log(error)\n    });\n  }\n});","map":{"version":3,"sources":["/home/alta9/Documents/Alta Batch 4/Phase 2/Week 3/Day 1/challenge_react/blog_list/src/store.js"],"names":["createStore","axios","apiKey","baseUrl","initialState","search","listDetailBerita","listBeritaTerkini","isLoadingBeritaTerkini","isLoadingDetailBerita","category","inputPage1","stateToChangeFromPage","store","actions","handleInputChange","state","event","console","log","setState","target","name","value","handleSearch","e","warn","getDetailBerita","getListberitaterkini","handleClickKategori","self","get","then","response","data","articles","catch","error","getOut","localStorage","removeItem","props","history","push","goBackHome"],"mappings":"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","sourcesContent":["import createStore from \"unistore\";\nimport axios from \"axios\";\n\n// News API\nconst apiKey = \"619529381a494be9af64c6269526d196\";\nconst baseUrl = \"https://newsapi.org/v2/\";\n// const urlHeadline = baseUrl + \"top-headlines?country=id&apiKey=\" + apiKey;\n\nconst initialState = {\n    search : \"\",\n    listDetailBerita:[],\n    listBeritaTerkini:[],\n    isLoadingBeritaTerkini: true,\n    isLoadingDetailBerita: true,\n    category:\"\",\n    inputPage1:\"\",\n    stateToChangeFromPage: \"belum berubah\"\n};\n\nexport const store = createStore(initialState);\n\nexport const actions = store => ({\n\n    handleInputChange: (state, event) => {\n        console.log(\"cek handleinputChange\", event)\n        store.setState({ [event.target.name]: event.target.value });\n    },\n\n    handleSearch : async (e) => {\n        console.warn(\"cek e pada handle input change\", e.target)\n        console.warn(\"cek value\", e.target.value)\n        let value = e.target.value;\n        await store.setState({ search:value, category:value});\n        console.log(\"cek state input cek\", this.state.search);\n        this.getDetailBerita();\n        this.getListberitaterkini();\n    \n    },\n    \n    handleClickKategori : async (e) => {\n        console.warn(\"cek e pada handle input change klik kategori\", e.target)\n        console.warn(\"cek value klik kategori\", e)\n        let value = e;\n        await store.setState({ search:value, category:value});\n        console.log(\"cek state input cek\", this.state.search);\n        this.getDetailBerita();\n        this.getListberitaterkini();\n    \n    },\n    \n    getDetailBerita : () =>{\n        const self = this;\n        axios\n            .get(`${baseUrl}everything?q=${this.state.search}&apiKey=${apiKey}`)\n            .then(function(response){\n                store.setState({ listDetailBerita: response.data.articles, isLoadingDetailBerita: false});\n                console.log(\"cek dari NEWS\",self.state.listDetailBerita);\n                // handle success\n                // console.log(response.data);\n            })\n            .catch(function(error){\n                store.setState({ isLoadingDetailBerita: false});\n                // handle error\n                // console.log(error)\n            });\n    },\n\n    getOut : () => {\n        localStorage.removeItem(\"statusLogin\");\n        // localStorage.clear()\n        this.props.history.push(\"/\");\n    },\n\n    goBackHome : () => {\n        store.setState({isLoadingBeritaTerkini : true});\n    },\n      \n    getListberitaterkini : () =>{\n    \n    axios\n        .get(`${baseUrl}top-headlines?country=id&category=${this.state.category}&apiKey=${apiKey}`)\n        .then(function(response){\n        store.setState({ listBeritaTerkini: response.data.articles, isLoadingBeritaTerkini: false});\n        // handle success\n        // console.log(response.data);\n        })\n        .catch(function(error){\n        store.setState({ isLoadingBeritaTerkini: false});\n        // handle error\n        // console.log(error)\n        });\n    }\n\n\n})"]},"metadata":{},"sourceType":"module"}