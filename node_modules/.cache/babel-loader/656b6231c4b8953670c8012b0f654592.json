{"ast":null,"code":"import _regeneratorRuntime from\"/home/alta9/Documents/Alta Batch 4/Phase 2/Week 3/Day 1/challenge_react/blog_list/node_modules/@babel/runtime/regenerator\";var _this=this;import createStore from\"unistore\";import axios from\"axios\";// News API\nvar apiKey=\"619529381a494be9af64c6269526d196\";var baseUrl=\"https://newsapi.org/v2/\";// const urlHeadline = baseUrl + \"top-headlines?country=id&apiKey=\" + apiKey;\nvar initialState={search:\"\",listDetailBerita:[],listBeritaTerkini:[],isLoadingBeritaTerkini:true,isLoadingDetailBerita:true,category:\"\",statusLogin:false,inputPage1:\"\",stateToChangeFromPage:\"belum berubah\"};export var store=createStore(initialState);export var actions=function actions(store){return{handleSearch:function handleSearch(state,e){console.warn(\"cek e pada handle input placeholder\",e.target.placeholder);console.warn(\"cek value name\",e.target.value);var value=e.target.value;store.setState({search:value,category:value});console.warn(\"cek store\",store.getState());},handleClickKategori:function handleClickKategori(state,e){var value;return _regeneratorRuntime.async(function handleClickKategori$(_context){while(1){switch(_context.prev=_context.next){case 0:console.warn(\"cek e pada handle input change klik kategori\",e);console.warn(\"cek value klik kategori\",e);value=e;_context.next=5;return _regeneratorRuntime.awrap(store.setState({search:value,category:value}));case 5:console.log(\"cek state input cek\",store.getState());case 6:case\"end\":return _context.stop();}}});},getDetailBerita:function getDetailBerita(){axios.get(\"\".concat(baseUrl,\"everything?q=\").concat(store.getState().search,\"&apiKey=\").concat(apiKey)).then(function(response){store.setState({listDetailBerita:response.data.articles,isLoadingDetailBerita:false});console.warn(\"cek store\",store.getState().listDetailBerita);// handle success\n// console.log(response.data);\n}).catch(function(error){store.setState({isLoadingDetailBerita:false});// handle error\n// console.log(error)\n});},getOut:function getOut(){store.setState({statusLogin:false});// localStorage.clear()\n_this.props.history.push(\"/\");},getLogin:function getLogin(){store.setState({statusLogin:true});// localStorage.clear()\n_this.props.history.push(\"/profile\");},goBackHome:function goBackHome(){store.setState({isLoadingBeritaTerkini:true});},getListberitaterkini:function getListberitaterkini(){axios.get(\"\".concat(baseUrl,\"top-headlines?country=id&category=\").concat(store.getState().category,\"&apiKey=\").concat(apiKey)).then(function(response){store.setState({listBeritaTerkini:response.data.articles,isLoadingBeritaTerkini:false});// handle success\n// console.log(response.data);\n}).catch(function(error){store.setState({isLoadingBeritaTerkini:false});// handle error\n// console.log(error)\n});}};};","map":{"version":3,"sources":["/home/alta9/Documents/Alta Batch 4/Phase 2/Week 3/Day 1/challenge_react/blog_list/src/store.js"],"names":["createStore","axios","apiKey","baseUrl","initialState","search","listDetailBerita","listBeritaTerkini","isLoadingBeritaTerkini","isLoadingDetailBerita","category","statusLogin","inputPage1","stateToChangeFromPage","store","actions","handleSearch","state","e","console","warn","target","placeholder","value","setState","getState","handleClickKategori","log","getDetailBerita","get","then","response","data","articles","catch","error","getOut","props","history","push","getLogin","goBackHome","getListberitaterkini"],"mappings":"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","sourcesContent":["import createStore from \"unistore\";\nimport axios from \"axios\";\n\n// News API\nconst apiKey = \"619529381a494be9af64c6269526d196\";\nconst baseUrl = \"https://newsapi.org/v2/\";\n// const urlHeadline = baseUrl + \"top-headlines?country=id&apiKey=\" + apiKey;\n\nconst initialState = {\n    search : \"\",\n    listDetailBerita:[],\n    listBeritaTerkini:[],\n    isLoadingBeritaTerkini: true,\n    isLoadingDetailBerita: true,\n    category:\"\",\n    statusLogin:false,\n    inputPage1:\"\",\n    stateToChangeFromPage: \"belum berubah\"\n};\n\nexport const store = createStore(initialState);\n\nexport const actions = store => ({\n\n    handleSearch : (state,e) => {\n        console.warn(\"cek e pada handle input placeholder\", e.target.placeholder)\n        console.warn(\"cek value name\", e.target.value)\n        let value = e.target.value;\n        store.setState({ search :value, category:value});\n        console.warn(\"cek store\", store.getState())\n    },\n    \n    handleClickKategori : async (state,e) => {\n        console.warn(\"cek e pada handle input change klik kategori\", e)\n        console.warn(\"cek value klik kategori\", e)\n        let value = e;\n        await store.setState({ search:value, category:value});\n        console.log(\"cek state input cek\", store.getState());\n    },\n    \n    getDetailBerita : () =>{\n        axios\n            .get(`${baseUrl}everything?q=${store.getState().search}&apiKey=${apiKey}`)\n            .then(function(response){\n                store.setState({ listDetailBerita: response.data.articles, isLoadingDetailBerita: false});\n                console.warn(\"cek store\", store.getState().listDetailBerita)\n                // handle success\n                // console.log(response.data);\n            })\n            .catch(function(error){\n                store.setState({ isLoadingDetailBerita: false});\n                // handle error\n                // console.log(error)\n            });\n    },\n\n    getOut : () => {\n        store.setState({ statusLogin: false});\n        // localStorage.clear()\n        this.props.history.push(\"/\");\n    },\n\n    getLogin : () => {\n        store.setState({ statusLogin: true});\n        // localStorage.clear()\n        this.props.history.push(\"/profile\");\n    },\n\n    goBackHome : () => {\n        store.setState({isLoadingBeritaTerkini : true});\n    },\n      \n    getListberitaterkini : () =>{\n    \n        axios\n            .get(`${baseUrl}top-headlines?country=id&category=${store.getState().category}&apiKey=${apiKey}`)\n            .then(function(response){\n            store.setState({ listBeritaTerkini: response.data.articles, isLoadingBeritaTerkini: false});\n\n            // handle success\n            // console.log(response.data);\n            })\n            .catch(function(error){\n            store.setState({ isLoadingBeritaTerkini: false});\n            // handle error\n            // console.log(error)\n            });\n        }\n\n\n})"]},"metadata":{},"sourceType":"module"}